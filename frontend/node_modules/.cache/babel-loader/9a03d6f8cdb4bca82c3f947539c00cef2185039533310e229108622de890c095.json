{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\batha\\\\OneDrive\\\\Desktop\\\\submission-review\\\\frontend\\\\src\\\\components\\\\ReviewerDashboard.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = 'http://localhost:5000/api/submissions';\nfunction ReviewerDashboard() {\n  _s();\n  const [subs, setSubs] = useState([]);\n  const [comment, setComment] = useState('');\n  useEffect(() => {\n    fetchAll();\n  }, []);\n  const fetchAll = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const res = await axios.get(API, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setSubs(res.data);\n    } catch (err) {\n      alert('Error loading submissions');\n    }\n  };\n  const review = async (id, status) => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put(`${API}/${id}/review`, {\n        status,\n        reviewComment: comment\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setComment('');\n      fetchAll();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Error');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Reviewer Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: subs.map(s => {\n        var _s$contributor;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            margin: '20px 0',\n            borderBottom: '1px solid #ccc'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: s.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), \" (v\", s.version, \") by \", (_s$contributor = s.contributor) === null || _s$contributor === void 0 ? void 0 : _s$contributor.username, /*#__PURE__*/_jsxDEV(\"p\", {\n            children: s.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), s.fileUrl && /*#__PURE__*/_jsxDEV(\"a\", {\n            href: s.fileUrl,\n            children: \"File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: s.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), s.status === 'PENDING' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: comment,\n              onChange: e => setComment(e.target.value),\n              placeholder: \"Review comment (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => review(s._id, 'APPROVED'),\n              children: \"Approve\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => review(s._id, 'REJECTED'),\n              children: \"Reject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this), s.reviewComment && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: [\"Comment: \", s.reviewComment]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 33\n          }, this)]\n        }, s._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(ReviewerDashboard, \"Xbm3XRSEleb0VbcWDRibdyvENmQ=\");\n_c = ReviewerDashboard;\nexport default ReviewerDashboard;\nvar _c;\n$RefreshReg$(_c, \"ReviewerDashboard\");","map":{"version":3,"names":["useState","useEffect","axios","jsxDEV","_jsxDEV","API","ReviewerDashboard","_s","subs","setSubs","comment","setComment","fetchAll","token","localStorage","getItem","res","get","headers","Authorization","data","err","alert","review","id","status","put","reviewComment","_err$response","_err$response$data","response","message","children","fileName","_jsxFileName","lineNumber","columnNumber","map","s","_s$contributor","style","margin","borderBottom","title","version","contributor","username","description","fileUrl","href","value","onChange","e","target","placeholder","onClick","_id","_c","$RefreshReg$"],"sources":["C:/Users/batha/OneDrive/Desktop/submission-review/frontend/src/components/ReviewerDashboard.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API = 'http://localhost:5000/api/submissions';\r\n\r\nfunction ReviewerDashboard() {\r\n  const [subs, setSubs] = useState([]);\r\n  const [comment, setComment] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchAll();\r\n  }, []);\r\n\r\n  const fetchAll = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await axios.get(API, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setSubs(res.data);\r\n    } catch (err) {\r\n      alert('Error loading submissions');\r\n    }\r\n  };\r\n\r\n  const review = async (id, status) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      await axios.put(`${API}/${id}/review`, { status, reviewComment: comment }, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setComment('');\r\n      fetchAll();\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || 'Error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Reviewer Dashboard</h1>\r\n      <ul>\r\n        {subs.map(s => (\r\n          <li key={s._id} style={{ margin: '20px 0', borderBottom: '1px solid #ccc' }}>\r\n            <strong>{s.title}</strong> (v{s.version}) by {s.contributor?.username}\r\n            <p>{s.description}</p>\r\n            {s.fileUrl && <a href={s.fileUrl}>File</a>}\r\n            <p>Status: <b>{s.status}</b></p>\r\n            {s.status === 'PENDING' && (\r\n              <div>\r\n                <textarea \r\n                  value={comment} \r\n                  onChange={e=>setComment(e.target.value)} \r\n                  placeholder=\"Review comment (optional)\" \r\n                />\r\n                <button onClick={() => review(s._id, 'APPROVED')}>Approve</button>\r\n                <button onClick={() => review(s._id, 'REJECTED')}>Reject</button>\r\n              </div>\r\n            )}\r\n            {s.reviewComment && <p><i>Comment: {s.reviewComment}</i></p>}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReviewerDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}