{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\batha\\\\OneDrive\\\\Desktop\\\\submission-review\\\\frontend\\\\src\\\\components\\\\ContributorDashboard.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = 'http://localhost:5000/api/submissions';\nfunction ContributorDashboard() {\n  _s();\n  const [subs, setSubs] = useState([]);\n  const [title, setTitle] = useState('');\n  const [desc, setDesc] = useState('');\n  const [fileUrl, setFileUrl] = useState('');\n  const [resubmitId, setResubmitId] = useState('');\n  useEffect(() => {\n    fetchSubs();\n  }, []);\n  const fetchSubs = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const res = await axios.get(`${API}/my`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setSubs(res.data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Error');\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('token');\n      const payload = {\n        title,\n        description: desc,\n        fileUrl\n      };\n      if (resubmitId) payload.submissionId = resubmitId;\n      await axios.post(API, payload, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setTitle('');\n      setDesc('');\n      setFileUrl('');\n      setResubmitId('');\n      fetchSubs();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      alert(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Error');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Contributor Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: resubmitId ? 'Resubmit' : 'New Submission'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: title,\n        onChange: e => setTitle(e.target.value),\n        placeholder: \"Title\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: desc,\n        onChange: e => setDesc(e.target.value),\n        placeholder: \"Description\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: fileUrl,\n        onChange: e => setFileUrl(e.target.value),\n        placeholder: \"File URL (optional)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"My Submissions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: subs.map(s => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: s.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), \" \\u2014 v\", s.version, \" \\u2014 \", s.status, s.status === 'REJECTED' && s.version < 3 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setResubmitId(s._id),\n          children: \"Resubmit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), s.reviewComment && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Comment: \", s.reviewComment]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 33\n        }, this)]\n      }, s._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(ContributorDashboard, \"TL/L3O/dXsV42DrF+s+8n6qJeJc=\");\n_c = ContributorDashboard;\nexport default ContributorDashboard;\nvar _c;\n$RefreshReg$(_c, \"ContributorDashboard\");","map":{"version":3,"names":["useState","useEffect","axios","jsxDEV","_jsxDEV","API","ContributorDashboard","_s","subs","setSubs","title","setTitle","desc","setDesc","fileUrl","setFileUrl","resubmitId","setResubmitId","fetchSubs","token","localStorage","getItem","res","get","headers","Authorization","data","err","_err$response","_err$response$data","alert","response","message","handleSubmit","e","preventDefault","payload","description","submissionId","post","_err$response2","_err$response2$data","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","placeholder","required","type","map","s","version","status","onClick","_id","reviewComment","_c","$RefreshReg$"],"sources":["C:/Users/batha/OneDrive/Desktop/submission-review/frontend/src/components/ContributorDashboard.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API = 'http://localhost:5000/api/submissions';\r\n\r\nfunction ContributorDashboard() {\r\n  const [subs, setSubs] = useState([]);\r\n  const [title, setTitle] = useState('');\r\n  const [desc, setDesc] = useState('');\r\n  const [fileUrl, setFileUrl] = useState('');\r\n  const [resubmitId, setResubmitId] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchSubs();\r\n  }, []);\r\n\r\n  const fetchSubs = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await axios.get(`${API}/my`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setSubs(res.data);\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || 'Error');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const payload = { title, description: desc, fileUrl };\r\n      if (resubmitId) payload.submissionId = resubmitId;\r\n\r\n      await axios.post(API, payload, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      setTitle(''); setDesc(''); setFileUrl(''); setResubmitId('');\r\n      fetchSubs();\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || 'Error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Contributor Dashboard</h1>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <h2>{resubmitId ? 'Resubmit' : 'New Submission'}</h2>\r\n        <input value={title} onChange={e=>setTitle(e.target.value)} placeholder=\"Title\" required />\r\n        <textarea value={desc} onChange={e=>setDesc(e.target.value)} placeholder=\"Description\" required />\r\n        <input value={fileUrl} onChange={e=>setFileUrl(e.target.value)} placeholder=\"File URL (optional)\" />\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n\r\n      <h2>My Submissions</h2>\r\n      <ul>\r\n        {subs.map(s => (\r\n          <li key={s._id}>\r\n            <strong>{s.title}</strong> — v{s.version} — {s.status}\r\n            {s.status === 'REJECTED' && s.version < 3 && (\r\n              <button onClick={() => setResubmitId(s._id)}>Resubmit</button>\r\n            )}\r\n            {s.reviewComment && <p>Comment: {s.reviewComment}</p>}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ContributorDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}